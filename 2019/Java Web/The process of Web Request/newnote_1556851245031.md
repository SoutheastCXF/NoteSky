# 深入Web请求过程



### 在浏览器上键入一个url所发送的过程：

1. 浏览器会检查缓存中是否存有域名对应的解析过的IP地址，如果缓存中有，则这个解析过程就结束了。其中浏览器中缓存的域名，存在空间与时间限制
2. 如果用户的浏览器缓存中没有，浏览器会查找操作系统缓存中是否有这个域名对应的DNS解析结构。其中Window中可以通过C:Windows\System32\drivers\etc\hosts文件设置。
3. 如果上述操作，无法解析url。**操作系统会把待解析域名发送给本地DNS解析服务器**。举个栗子,在校园网中，DNS服务器就在学校中。
4. 当LDNS仍然没有命中时，直接向root Server请求域名解析
5. root Server返回给本地域名服务器一个所查询域的主域名服务器IP地址（全球只有13台）
6. 本地域名服务器再次向主域名服务器请求
7. 接受请求的gTLD服务器查找并返回此域名对应的Name Server域名服务器地址。
8. Name Server域名服务器查询存储的域名与IP的映射关系
9. Local DNS Server收到响应，并缓存域名和IP对应关系
10. 将解析结果返回给用户
11. 